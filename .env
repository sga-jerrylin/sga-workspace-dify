# ===========================================
# 🚀 生产环境配置 - 开箱即用版本
# ===========================================

# 应用基础配置
NODE_ENV=production
NEXT_PUBLIC_APP_NAME=企业AI工作空间
NEXT_PUBLIC_APP_VERSION=1.2.1
NEXT_TELEMETRY_DISABLED=1

# 应用URL配置 (Docker环境)
NEXT_PUBLIC_APP_URL=http://localhost:8100
NEXTAUTH_URL=http://localhost:8100
NEXTAUTH_SECRET=nextauth-secret-for-production-change-me-32chars

# 数据库配置 (Docker内部网络)
DATABASE_URL=postgresql://ai_user:ai_password_2024@postgres:5432/ai_workspace
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_TIMEOUT=30000

# PostgreSQL配置
POSTGRES_DB=ai_workspace
POSTGRES_USER=ai_user
POSTGRES_PASSWORD=ai_password_2024

# Redis配置 (Docker内部网络)
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=redis_password_2024
REDIS_DB=0

# 安全配置 (生产环境请修改这些密钥)
CSRF_SECRET=csrf-secret-for-production-32chars
JWT_SECRET=jwt-secret-for-production-32chars-
ENCRYPTION_KEY=encryption-key-for-prod-32chars

# MinIO对象存储配置
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123

# 企业默认配置
DEFAULT_COMPANY_NAME=示例企业
DEFAULT_ADMIN_EMAIL=admin@example.com
DEFAULT_ADMIN_PASSWORD=Admin123456

# Dify AI配置 (请修改为实际的Dify服务地址)
DEFAULT_DIFY_BASE_URL=http://host.docker.internal:80/v1
DEFAULT_DIFY_TIMEOUT=180000

# 文件上传配置
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/webp,image/gif,application/pdf,text/plain
NEXT_PUBLIC_UPLOAD_ENDPOINT=/api/upload

# API配置
API_RATE_LIMIT_REQUESTS=100
API_RATE_LIMIT_WINDOW=900000
API_TIMEOUT=30000

# 日志配置
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=/app/logs

# 监控配置
HEALTH_CHECK_ENDPOINT=/api/health
METRICS_ENDPOINT=/api/metrics
ENABLE_METRICS=true

# 邮件配置 (可选)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@yourcompany.com

# 功能开关
ENABLE_USER_REGISTRATION=false
ENABLE_PASSWORD_RESET=true
ENABLE_MULTI_COMPANY=false
ENABLE_FILE_UPLOAD=true
ENABLE_CHAT_HISTORY=true

# 性能配置
MAX_CHAT_HISTORY_DAYS=90
MAX_SESSIONS_PER_USER=50
CLEANUP_INTERVAL_HOURS=24

# 开发配置
NEXT_PUBLIC_DEBUG=false
ENABLE_API_DOCS=false
ENABLE_ADMIN_PANEL=true

# Grafana监控 (可选)
GRAFANA_PASSWORD=grafana_admin_2024

# ===========================================
# 🔧 部署说明
# ===========================================
# 
# 1. 复制此文件为 .env:
#    cp .env.production .env
#
# 2. 修改关键配置:
#    - 修改所有密码和密钥
#    - 设置正确的 DEFAULT_DIFY_BASE_URL
#    - 设置正确的 NEXT_PUBLIC_APP_URL
#
# 3. 启动服务:
#    docker compose up -d
#
# 4. 访问应用:
#    http://localhost:8100
#
# ===========================================
